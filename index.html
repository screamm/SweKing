<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🇸🇪 Kungen Hoppar Flaggor - Svenska Spel</title>
    
    <!-- Svensk flagga favicon med krona -->
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon.svg">
    <link rel="apple-touch-icon" href="favicon.svg">
    
    <meta name="description" content="Spela som kungen och hoppa över svenska flaggor! Samla kronor och sätt nya rekord i detta roliga svenska plattformsspel.">
    <meta name="keywords" content="svenska spel, svensk flagga, kung, hoppa, plattformsspel, nationaldag">
    <meta name="author" content="David Rydegren">
    
    <!-- Open Graph för social sharing -->
    <meta property="og:title" content="🇸🇪 Kungen Hoppar Flaggor">
    <meta property="og:description" content="Spela som kungen och hoppa över svenska flaggor!">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://kungen-hoppar-flaggor.davidrydgren.workers.dev">
    
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="game-container">
        <!-- Menu system kommer att injiceras här av menu.js -->
        
        <!-- Gamla spel-UI - dolt som standard -->
        <div id="legacyGameContent" style="display: none;">
            <h1>🇸🇪 Kungen Hoppar Flaggor 👑</h1>
            <div class="score">Kronor: <span id="score">0</span></div>
            <canvas id="gameCanvas" width="800" height="400"></canvas>
            <button id="startGameBtn" class="start-game-btn" style="display: block;">
                Starta Spel
            </button>
            
            <div class="controls" id="gameControls" style="display: none;">
                Tryck MELLANSLAG för att hoppa! 
            </div>
            
            <div class="audio-controls" id="audioControls" style="display: none;">
                <button id="soundToggle" class="audio-btn active">🔊 Ljud</button>
                <button id="musicToggle" class="audio-btn active">🎵 Musik</button>
                <button id="volumeDown" class="audio-btn">🔉</button>
                <button id="volumeUp" class="audio-btn">🔊</button>
            </div>
            
            <div class="high-scores">
                <h3>🏆 TOPPLISTA 🏆</h3>
                <div id="highScoreList">
                    <div class="score-entry">
                        <span class="rank">1.</span>
                        <span class="name">Laddar...</span>
                        <span class="score-value">-</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Multiplayer & Social Panel -->
        <div class="multiplayer-panel" id="multiplayerPanel" style="display: none;">
            
            <!-- Player Profile -->
            <div class="multiplayer-section">
                <h3>👑 Din Profil</h3>
                <input type="text" id="playerNameInput" class="player-name-input" placeholder="Skriv ditt namn...">
                <div class="multiplayer-status" id="connectionStatus">
                    <span class="status-disconnected">📡 Inte ansluten till multiplayer</span>
                </div>
            </div>

            <!-- Social Sharing -->
            <div class="multiplayer-section">
                <h3>📱 Dela ditt rekord!</h3>
                <div class="social-buttons">
                    <button class="social-btn" onclick="shareToTwitter()">🐦 Twitter</button>
                    <button class="social-btn" onclick="shareToFacebook()">📘 Facebook</button>
                    <button class="social-btn" onclick="shareToWhatsApp()">💬 WhatsApp</button>
                    <button class="social-btn" onclick="shareNative()">📱 Dela</button>
                </div>
            </div>

            <!-- Daily Challenges -->
            <div class="multiplayer-section">
                <h3>⭐ Dagens Utmaningar</h3>
                <div id="dailyChallenges">
                    <div class="challenge-item">
                        <div class="challenge-title">Laddar utmaningar...</div>
                    </div>
                </div>
            </div>

            <!-- Weekly Tournament -->
            <div class="multiplayer-section">
                <h3>🏆 Veckans Turnering</h3>
                <div id="weeklyTournament">
                    <div class="tournament-item">
                        <div style="color: #fecc00; font-size: 1.2em; margin-bottom: 10px;">
                            👑 Veckans Kung-mästerskap
                        </div>
                        <div>Laddar turnering...</div>
                    </div>
                </div>
            </div>

            <!-- Real-time Racing -->
            <div class="multiplayer-section" id="racingSection" style="display: none;">
                <h3>🏃‍♂️ Real-time Racing</h3>
                <div id="raceStatus">
                    <button class="social-btn" onclick="findRaceOpponent()">🏁 Hitta Motståndare</button>
                </div>
                <div id="raceInvitations"></div>
            </div>

            <!-- Connected Players -->
            <div class="multiplayer-section" id="playersSection" style="display: none;">
                <h3>👥 Anslutna Spelare</h3>
                <div id="connectedPlayers">
                    <div>Ingen ansluten ännu...</div>
                </div>
            </div>

        </div>
    </div>
    
    <script src="audio.js"></script>
    <script src="character.js"></script>
    <script src="powerups.js"></script>
    <script src="obstacles.js"></script>
    <script src="effects.js"></script>
    <script src="mobile.js"></script>
    <script src="achievements.js"></script>
    <script src="story.js"></script>
    <script src="menu.js"></script>
    <script src="game.js"></script>
</body>
</html> 